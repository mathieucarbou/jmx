<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Mycila JMX by mycila</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Mycila JMX</h1>
      <h2 class="project-tagline">Easily expose your classes in JMX through annotations</h2>
      <a href="https://github.com/mycila/jmx" class="btn">View on GitHub</a>
      <a href="https://github.com/mycila/jmx/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/mycila/jmx/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <p><strong>Table of Contents</strong></p>

<ul>
<li>
<a href="#mycila-jmx">Mycila JMX</a>

<ul>
<li><a href="#maven-repository">Maven Repository</a></li>
<li>
<a href="#documentation">Documentation</a>

<ul>
<li><a href="#1-annotations">1. Annotations</a></li>
<li><a href="#2-dynamic-naming">2. Dynamic naming</a></li>
<li><a href="#3-how-to-use">3. How to use</a></li>
<li><a href="#4-jmxmetadataassembler">4. JmxMetadataAssembler</a></li>
<li><a href="#5-mycile-guice-integration">5. Mycile Guice Integration</a></li>
<li><a href="#6-tools">6. Tools</a></li>
</ul>
</li>
</ul>
</li>
</ul>

<h1>
<a id="mycila-jmx" class="anchor" href="#mycila-jmx" aria-hidden="true"><span class="octicon octicon-link"></span></a>Mycila JMX</h1>

<p>This small project enables to export your classes easily through JMX.</p>

<ul>
<li>
<strong>Issues:</strong> <a href="https://github.com/mycila/jmx/issues">https://github.com/mycila/jmx/issues</a>
</li>
<li>
<strong>OSGI Compliant:</strong> <img width="100px" src="http://www.sonatype.com/system/images/W1siZiIsIjIwMTMvMDQvMTIvMTEvNDAvMzcvMTgzL05leHVzX0ZlYXR1cmVfTWF0cml4X29zZ2lfbG9nby5wbmciXV0/Nexus-Feature-Matrix-osgi-logo.png" title="OSGI Compliant">
</li>
<li>
<strong>Build Status:</strong> <a href="https://travis-ci.org/mycila/jmx"><img src="https://travis-ci.org/mycila/jmx.png?branch=master" alt="Build Status"></a>
</li>
</ul>

<h2>
<a id="maven-repository" class="anchor" href="#maven-repository" aria-hidden="true"><span class="octicon octicon-link"></span></a>Maven Repository</h2>

<p><strong>Releases</strong></p>

<p>Available in Maven Central Repository: <a href="http://repo1.maven.org/maven2/com/mycila/jmx/">http://repo1.maven.org/maven2/com/mycila/jmx/</a></p>

<p><strong>Snapshots</strong></p>

<p>Available in OSS Repository:  <a href="https://oss.sonatype.org/content/repositories/snapshots/com/mycila/jmx/">https://oss.sonatype.org/content/repositories/snapshots/com/mycila/jmx/</a></p>

<p><strong>Maven dependency</strong></p>

<pre><code>&lt;dependency&gt;
    &lt;groupId&gt;com.mycila&lt;/groupId&gt;
    &lt;artifactId&gt;mycila-jmx&lt;/artifactId&gt;
    &lt;version&gt;X.Y.ga&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>

<p><strong>Maven sites</strong></p>

<ul>
<li><a href="http://mycila.github.io/jmx/reports/1.1.ga/index.html">1.1.ga</a></li>
</ul>

<h2>
<a id="documentation" class="anchor" href="#documentation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Documentation</h2>

<h3>
<a id="1-annotations" class="anchor" href="#1-annotations" aria-hidden="true"><span class="octicon octicon-link"></span></a>1. Annotations</h3>

<ul>
<li>
<code>@JmxBean</code>: mark a class to be exported to JMX and set its name </li>
<li>
<code>@JmxMethod</code>: export a method</li>
<li>
<code>@JmxProperty</code>: export a bean property (getter/setter) and specify its access writes </li>
<li>
<code>@JmxField</code>: export a field to JMX and specify its access writes</li>
<li>
<code>@JmxMetric</code>: export a JMX metric, its name and unit (counter or gauge)</li>
</ul>

<h3>
<a id="2-dynamic-naming" class="anchor" href="#2-dynamic-naming" aria-hidden="true"><span class="octicon octicon-link"></span></a>2. Dynamic naming</h3>

<p>A bean can implement the interface <code>JmxSelfNaming</code> to return the its <code>ObjectName</code></p>

<h3>
<a id="3-how-to-use" class="anchor" href="#3-how-to-use" aria-hidden="true"><span class="octicon octicon-link"></span></a>3. How to use</h3>

<p>Supposing you have annotated your class like this</p>

<pre><code>@JmxBean("com.company:type=MyService,name=main")
public final class MyService {

    private String name;

    @JmxField
    private int internalField = 10;

    @JmxProperty
    public String getName() { return name; }

    public void setName(String name) { this.name = name; }

    @JmxMethod(parameters = {@JmxParam(value = "number", description = "put a big number please !")})
    void increment(int n) {
        internalField += n;
    }
}
</code></pre>

<p>Then create an exporter which will be able to export your beans:</p>

<pre><code>MycilaJmxExporter exporter = new MycilaJmxExporter();
exporter.setMetadataAssembler(getMetadataAssembler());
exporter.setEnsureUnique(true);
</code></pre>

<p>And export your service:</p>

<pre><code>exporter.register(myServiceInstance)
</code></pre>

<h3>
<a id="4-jmxmetadataassembler" class="anchor" href="#4-jmxmetadataassembler" aria-hidden="true"><span class="octicon octicon-link"></span></a>4. JmxMetadataAssembler</h3>

<p><code>JmxMetadataAssembler</code> are implementations which describes the exportable members of a class and how to export them. Several implementation exist:</p>

<ul>
<li>
<code>PublicMetadataAssembler</code>: when beans are registered, only public methods, properties and fields are exported</li>
<li>
<code>AnnotationMetadataAssembler</code>: when beans are registered, only annotated methods, properties and fields are exported

<ul>
<li>
<code>CustomMetadataAssembler</code>: you can specify which members are exported. This class can be useful if you only need to export just some members and if you do not have access to the source code of the class to export</li>
</ul>
</li>
</ul>

<p><strong>Example</strong></p>

<pre><code>CustomMetadataAssembler assembler = new CustomMetadataAssembler()
    .addAttribute(MyClass.class, "myRWField")
    .addProperty(MyClass.class, "myProperty")
    .addOperation(MyClass.class, "goMethod");
</code></pre>

<p>You will be able to find other examples in the Unit Tests </p>

<h3>
<a id="5-mycile-guice-integration" class="anchor" href="#5-mycile-guice-integration" aria-hidden="true"><span class="octicon octicon-link"></span></a>5. Mycile Guice Integration</h3>

<p>When using the service discovery feature of <a href="http://mycila.github.io/guice/">Mycile Guice</a> (Google Guice extensions) JMX annoteated beans are automatically discovered and exported</p>

<h3>
<a id="6-tools" class="anchor" href="#6-tools" aria-hidden="true"><span class="octicon octicon-link"></span></a>6. Tools</h3>

<ul>
<li>
<a href="http://visualvm.java.net/">VisualVM</a>: Connects to a Java process and manage exported JMX classes</li>
<li>
<a href="http://mx4j.sourceforge.net/">MX4J</a>: Web interface to manage JMX beans</li>
</ul>

<p><a href="http://githalytics.com/mycila/jmx"><img src="https://cruel-carlota.pagodabox.com/ccb8ae70363afb2c06e4582434ceb163" alt="githalytics.com alpha" title="githalytics.com"></a></p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/mycila/jmx">Mycila JMX</a> is maintained by <a href="https://github.com/mycila">mycila</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

            <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-5669052-12");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>

